{"ast":null,"code":"import _toConsumableArray from \"/Users/kristinatong/projects/sound-motion/sound-motion-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/kristinatong/projects/sound-motion/sound-motion-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar defaultSpriteState = {\n  // sprites: [\n  //   {id:1, name: 'guitar', url: 'https://image.flaticon.com/icons/png/128/26/26843.png'},\n  //   {id:2, name: 'drums', url: 'https://image.flaticon.com/icons/svg/27/27328.svg'},\n  //   {id:3, name: 'piano', url: 'https://image.flaticon.com/icons/svg/27/27066.svg'},\n  //   {id:4, name: 'drums2', url: 'https://image.flaticon.com/icons/svg/26/26995.svg'}\n  // ],\n  sprites: [],\n  canvasSprites: [],\n  selectedSprite: {}\n};\nexport default function spriteReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultSpriteState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var index;\n  var sprite;\n\n  switch (action.type) {\n    case 'SET_SPRITES':\n      return _objectSpread({}, state, {\n        sprites: action.sprites\n      });\n\n    case 'ADD_SPRITE':\n      return _objectSpread({}, state, {\n        canvasSprites: _toConsumableArray(state.canvasSprites).concat([action.sprite]),\n        selectedSprite: action.sprite\n      });\n\n    case 'SELECT_SPRITE':\n      var findSprite = state.canvasSprites.find(function (sprite) {\n        return sprite.uniqueKey === action.uniqueKey;\n      });\n      return _objectSpread({}, state, {\n        selectedSprite: findSprite\n      });\n\n    case 'SELECT_SOUND':\n      index = state.canvasSprites.findIndex(function (sprite) {\n        return sprite.uniqueKey === action.payload.uniqueKey;\n      });\n      sprite = state.canvasSprites[index];\n      return _objectSpread({}, state, {\n        selectedSprite: _objectSpread({}, state.selectedSprite, {\n          sound: _objectSpread({}, action.payload.selectedSound, {\n            url: action.payload.url,\n            loop: action.payload.loop\n          })\n        }),\n        canvasSprites: _toConsumableArray(state.canvasSprites.slice(0, index)).concat([Object.assign({}, sprite, {\n          sound: _objectSpread({}, action.payload.selectedSound, {\n            url: action.payload.url,\n            loop: action.payload.loop\n          })\n        })], _toConsumableArray(state.canvasSprites.slice(index + 1)))\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/kristinatong/projects/sound-motion/sound-motion-frontend/src/redux/reducers/spriteReducer.js"],"names":["defaultSpriteState","sprites","canvasSprites","selectedSprite","spriteReducer","state","action","index","sprite","type","findSprite","find","uniqueKey","findIndex","payload","sound","selectedSound","url","loop","slice","Object","assign"],"mappings":";;AAAA,IAAMA,kBAAkB,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACAC,EAAAA,OAAO,EAAE,EAPgB;AAQzBC,EAAAA,aAAa,EAAE,EARU;AASzBC,EAAAA,cAAc,EAAE;AATS,CAA3B;AAYA,eAAe,SAASC,aAAT,GAA2D;AAAA,MAApCC,KAAoC,uEAA5BL,kBAA4B;AAAA,MAARM,MAAQ;AACxE,MAAIC,KAAJ;AACA,MAAIC,MAAJ;;AACA,UAAOF,MAAM,CAACG,IAAd;AACE,SAAK,aAAL;AACE,+BAAWJ,KAAX;AAAkBJ,QAAAA,OAAO,EAAEK,MAAM,CAACL;AAAlC;;AACF,SAAK,YAAL;AACE,+BAAWI,KAAX;AAAkBH,QAAAA,aAAa,qBAAMG,KAAK,CAACH,aAAZ,UAA2BI,MAAM,CAACE,MAAlC,EAA/B;AAA0EL,QAAAA,cAAc,EAACG,MAAM,CAACE;AAAhG;;AACF,SAAK,eAAL;AACE,UAAME,UAAU,GAAGL,KAAK,CAACH,aAAN,CAAoBS,IAApB,CAAyB,UAAAH,MAAM;AAAA,eAAIA,MAAM,CAACI,SAAP,KAAqBN,MAAM,CAACM,SAAhC;AAAA,OAA/B,CAAnB;AACA,+BAAWP,KAAX;AAAkBF,QAAAA,cAAc,EAAEO;AAAlC;;AACF,SAAK,cAAL;AACEH,MAAAA,KAAK,GAAGF,KAAK,CAACH,aAAN,CAAoBW,SAApB,CAA+B,UAAAL,MAAM;AAAA,eAAIA,MAAM,CAACI,SAAP,KAAqBN,MAAM,CAACQ,OAAP,CAAeF,SAAxC;AAAA,OAArC,CAAR;AACAJ,MAAAA,MAAM,GAAGH,KAAK,CAACH,aAAN,CAAoBK,KAApB,CAAT;AACA,+BACKF,KADL;AAEEF,QAAAA,cAAc,oBAAME,KAAK,CAACF,cAAZ;AAA4BY,UAAAA,KAAK,oBAAMT,MAAM,CAACQ,OAAP,CAAeE,aAArB;AAAoCC,YAAAA,GAAG,EAAEX,MAAM,CAACQ,OAAP,CAAeG,GAAxD;AAA6DC,YAAAA,IAAI,EAAEZ,MAAM,CAACQ,OAAP,CAAeI;AAAlF;AAAjC,UAFhB;AAGEhB,QAAAA,aAAa,qBACRG,KAAK,CAACH,aAAN,CAAoBiB,KAApB,CAA0B,CAA1B,EAA4BZ,KAA5B,CADQ,UAEXa,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBb,MAAjB,EAAwB;AAACO,UAAAA,KAAK,oBAAKT,MAAM,CAACQ,OAAP,CAAeE,aAApB;AAAmCC,YAAAA,GAAG,EAACX,MAAM,CAACQ,OAAP,CAAeG,GAAtD;AAA2DC,YAAAA,IAAI,EAAEZ,MAAM,CAACQ,OAAP,CAAeI;AAAhF;AAAN,SAAxB,CAFW,sBAGRb,KAAK,CAACH,aAAN,CAAoBiB,KAApB,CAA0BZ,KAAK,GAAC,CAAhC,CAHQ;AAHf;;AASF;AACE,aAAOF,KAAP;AArBJ;AAuBD","sourcesContent":["const defaultSpriteState = {\n  // sprites: [\n  //   {id:1, name: 'guitar', url: 'https://image.flaticon.com/icons/png/128/26/26843.png'},\n  //   {id:2, name: 'drums', url: 'https://image.flaticon.com/icons/svg/27/27328.svg'},\n  //   {id:3, name: 'piano', url: 'https://image.flaticon.com/icons/svg/27/27066.svg'},\n  //   {id:4, name: 'drums2', url: 'https://image.flaticon.com/icons/svg/26/26995.svg'}\n  // ],\n  sprites: [],\n  canvasSprites: [],\n  selectedSprite: {}\n};\n\nexport default function spriteReducer(state = defaultSpriteState, action) {\n  let index\n  let sprite\n  switch(action.type) {\n    case 'SET_SPRITES':\n      return {...state, sprites: action.sprites}\n    case 'ADD_SPRITE':\n      return {...state, canvasSprites: [...state.canvasSprites, action.sprite], selectedSprite:action.sprite}\n    case 'SELECT_SPRITE':\n      const findSprite = state.canvasSprites.find(sprite => sprite.uniqueKey === action.uniqueKey)\n      return {...state, selectedSprite: findSprite}\n    case 'SELECT_SOUND':\n      index = state.canvasSprites.findIndex( sprite => sprite.uniqueKey === action.payload.uniqueKey)\n      sprite = state.canvasSprites[index]\n      return {\n        ...state,\n        selectedSprite: {...state.selectedSprite, sound: {...action.payload.selectedSound, url: action.payload.url, loop: action.payload.loop}},\n        canvasSprites: [\n          ...state.canvasSprites.slice(0,index),\n          Object.assign({},sprite,{sound:{...action.payload.selectedSound, url:action.payload.url, loop: action.payload.loop}}),\n          ...state.canvasSprites.slice(index+1)\n        ]\n    }\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}