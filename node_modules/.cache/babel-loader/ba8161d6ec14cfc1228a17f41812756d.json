{"ast":null,"code":"import _toConsumableArray from \"/Users/kristinatong/projects/sound-motion/sound-motion-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/kristinatong/projects/sound-motion/sound-motion-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar defaultSoundState = {\n  // sounds: [\n  //   {id:1, name: 'bodak yellow', url: 'http://1604ent.com/wp-content/uploads/2017/10/Cardi_B_-_Bodak_Yellow_1604Ent.com.mp3'},\n  //   {id:2, name: 'in my feelings', url: 'http://1604ent.com/wp-content/uploads/2018/08/Drake_-_In_My_Feelings_1604Ent.com.mp3'},\n  //   {id:3, name: 'piano sound', url: `http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEwUVdoeFdqZHhOV3RIYUZsWE4wVmhZamRTYXpJMFpVNEdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTEtMDdUMTU6Mzk6MzUuNTI3WiIsInB1ciI6ImJsb2Jfa2V5In19--ca335fc176630708bf50141520a9c900347d6db4/Latryx%20-%20Lady%20Don't%20Tek%20No.mp3?content_type=audio%2Fmpeg&disposition=inline%3B+filename%3D%22Latryx+-+Lady+Don%2527t+Tek+No.mp3%22%3B+filename%2A%3DUTF-8%27%27Latryx%2520-%2520Lady%2520Don%2527t%2520Tek%2520No.mp3`},\n  //   {id:4, name: 'drums2 sound', url: 'https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3'},\n  //   {id:5, name: 'headphones sound', url: 'https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3'}\n  // ],\n  sounds: [],\n  selectedSound: {}\n};\nexport default function soundReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultSoundState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var index;\n  var sprite;\n\n  switch (action.type) {\n    case 'SET_SOUNDS':\n      return _objectSpread({}, state, {\n        sounds: action.sounds\n      });\n\n    case 'PLAY_SOUND':\n      return {};\n\n    case 'LOOP_SOUND':\n      debugger;\n      index = state.canvasSprites.findIndex(function (sprite) {\n        return sprite.uniqueKey === action.payload.uniqueKey;\n      });\n      sprite = state.canvasSprites[index];\n      return _objectSpread({}, state, {\n        selectedSprite: _objectSpread({}, state.selectedSprite, {\n          sound: _objectSpread({}, action.payload.selectedSound, {\n            url: action.payload.url,\n            loop: !state.selectedSprite.loop\n          })\n        }),\n        canvasSprites: _toConsumableArray(state.canvasSprites.slice(0, index)).concat([Object.assign({}, sprite, {\n          sound: _objectSpread({}, action.payload.selectedSound, {\n            url: action.payload.url,\n            loop: !state.selectedSprite.loop\n          })\n        })], _toConsumableArray(state.canvasSprites.slice(index + 1))) // case 'SELECT_SOUND':\n        // return {...state, selectedSound: {...action.payload.selectedSound, url: action.payload.url}}\n\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/kristinatong/projects/sound-motion/sound-motion-frontend/src/redux/reducers/soundReducer.js"],"names":["defaultSoundState","sounds","selectedSound","soundReducer","state","action","index","sprite","type","canvasSprites","findIndex","uniqueKey","payload","selectedSprite","sound","url","loop","slice","Object","assign"],"mappings":";;AAAA,IAAMA,iBAAiB,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,EAAAA,MAAM,EAAE,EARgB;AASxBC,EAAAA,aAAa,EAAE;AATS,CAA1B;AAYA,eAAe,SAASC,YAAT,GAAyD;AAAA,MAAnCC,KAAmC,uEAA3BJ,iBAA2B;AAAA,MAARK,MAAQ;AACtE,MAAIC,KAAJ;AACA,MAAIC,MAAJ;;AACA,UAAQF,MAAM,CAACG,IAAf;AACE,SAAK,YAAL;AACE,+BAAYJ,KAAZ;AACEH,QAAAA,MAAM,EAAEI,MAAM,CAACJ;AADjB;;AAGF,SAAK,YAAL;AACE,aAAO,EAAP;;AACF,SAAK,YAAL;AACE;AACAK,MAAAA,KAAK,GAAGF,KAAK,CAACK,aAAN,CAAoBC,SAApB,CAA8B,UAAAH,MAAM;AAAA,eAAIA,MAAM,CAACI,SAAP,KAAqBN,MAAM,CAACO,OAAP,CAAeD,SAAxC;AAAA,OAApC,CAAR;AACAJ,MAAAA,MAAM,GAAGH,KAAK,CAACK,aAAN,CAAoBH,KAApB,CAAT;AACA,+BACKF,KADL;AAEES,QAAAA,cAAc,oBAAOT,KAAK,CAACS,cAAb;AACZC,UAAAA,KAAK,oBAAOT,MAAM,CAACO,OAAP,CAAeV,aAAtB;AACHa,YAAAA,GAAG,EAAEV,MAAM,CAACO,OAAP,CAAeG,GADjB;AAEHC,YAAAA,IAAI,EAAE,CAACZ,KAAK,CAACS,cAAN,CAAqBG;AAFzB;AADO,UAFhB;AAQEP,QAAAA,aAAa,qBACRL,KAAK,CAACK,aAAN,CAAoBQ,KAApB,CAA0B,CAA1B,EAA6BX,KAA7B,CADQ,UAEXY,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,MAAlB,EAA0B;AACxBO,UAAAA,KAAK,oBAAOT,MAAM,CAACO,OAAP,CAAeV,aAAtB;AACHa,YAAAA,GAAG,EAAEV,MAAM,CAACO,OAAP,CAAeG,GADjB;AAEHC,YAAAA,IAAI,EAAE,CAACZ,KAAK,CAACS,cAAN,CAAqBG;AAFzB;AADmB,SAA1B,CAFW,sBAQRZ,KAAK,CAACK,aAAN,CAAoBQ,KAApB,CAA0BX,KAAK,GAAG,CAAlC,CARQ,EARf,CAmBA;AACA;;AApBA;;AAqBF;AACE,aAAOF,KAAP;AAjCJ;AAmCD","sourcesContent":["const defaultSoundState = {\n  // sounds: [\n  //   {id:1, name: 'bodak yellow', url: 'http://1604ent.com/wp-content/uploads/2017/10/Cardi_B_-_Bodak_Yellow_1604Ent.com.mp3'},\n  //   {id:2, name: 'in my feelings', url: 'http://1604ent.com/wp-content/uploads/2018/08/Drake_-_In_My_Feelings_1604Ent.com.mp3'},\n  //   {id:3, name: 'piano sound', url: `http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaDEwUVdoeFdqZHhOV3RIYUZsWE4wVmhZamRTYXpJMFpVNEdPZ1pGVkE9PSIsImV4cCI6IjIwMTgtMTEtMDdUMTU6Mzk6MzUuNTI3WiIsInB1ciI6ImJsb2Jfa2V5In19--ca335fc176630708bf50141520a9c900347d6db4/Latryx%20-%20Lady%20Don't%20Tek%20No.mp3?content_type=audio%2Fmpeg&disposition=inline%3B+filename%3D%22Latryx+-+Lady+Don%2527t+Tek+No.mp3%22%3B+filename%2A%3DUTF-8%27%27Latryx%2520-%2520Lady%2520Don%2527t%2520Tek%2520No.mp3`},\n  //   {id:4, name: 'drums2 sound', url: 'https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3'},\n  //   {id:5, name: 'headphones sound', url: 'https://storage.googleapis.com/media-session/elephants-dream/the-wires.mp3'}\n  // ],\n  sounds: [],\n  selectedSound: {}\n};\n\nexport default function soundReducer(state = defaultSoundState, action) {\n  let index\n  let sprite\n  switch (action.type) {\n    case 'SET_SOUNDS':\n      return { ...state,\n        sounds: action.sounds\n      }\n    case 'PLAY_SOUND':\n      return {}\n    case 'LOOP_SOUND':\n      debugger\n      index = state.canvasSprites.findIndex(sprite => sprite.uniqueKey === action.payload.uniqueKey)\n      sprite = state.canvasSprites[index]\n      return {\n        ...state,\n        selectedSprite: { ...state.selectedSprite,\n          sound: { ...action.payload.selectedSound,\n            url: action.payload.url,\n            loop: !state.selectedSprite.loop\n          }\n        },\n        canvasSprites: [\n          ...state.canvasSprites.slice(0, index),\n          Object.assign({}, sprite, {\n            sound: { ...action.payload.selectedSound,\n              url: action.payload.url,\n              loop: !state.selectedSprite.loop\n            }\n          }),\n          ...state.canvasSprites.slice(index + 1)\n        ]\n      }\n      // case 'SELECT_SOUND':\n      // return {...state, selectedSound: {...action.payload.selectedSound, url: action.payload.url}}\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}